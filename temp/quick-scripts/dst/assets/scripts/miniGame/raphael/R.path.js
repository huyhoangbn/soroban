
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/miniGame/raphael/R.path.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7e039m0wZhNaIqogYMr6uCY', 'R.path');
// scripts/miniGame/raphael/R.path.js

'use strict';

var utils = require('./utils/R.utils');

var trasform = require('./component/R.transform');

var style = require('./component/R.style'); // optional


var simplify = require('./component/optional/R.simplify');

var drawer = {
  M: 'moveTo',
  L: 'lineTo',
  C: 'bezierCurveTo',
  Z: 'close'
};
var sqrt = Math.sqrt;
var max = Math.max;
var abs = Math.abs;
var selectedColor = cc.color(0, 157, 236);
var PathDefine = {
  "extends": cc.Component,
  properties: {
    _dirty: {
      "default": true,
      serializable: false,
      notify: function notify() {
        if (this.parent && this._dirty) {
          this.parent._dirty = true;

          if (this._commands) {
            this._commands.points = undefined;
          }
        }
      }
    }
  },
  init: function init(parent) {
    if (parent) {
      this.parent = parent;
      this.ctx = parent.ctx;
    }

    this._commands = [];
    this._dirty = true;
    this.showHandles = false;
    this.showBoundingBox = false;
  },
  onLoad: function onLoad() {
    this.init();

    if (!this.ctx) {
      var _gNode = new cc.Node();

      this.ctx = _gNode.addComponent(cc.Graphics);
      this.node.addChild(_gNode);

      this._applyStyle();
    }
  },
  ellipse: function ellipse(cx, cy, rx, ry) {
    if (!ry) {
      ry = rx;
    }

    var cmds = this._commands;
    cmds.push(['M', cx, cy]);
    cmds.push(['m', 0, -ry]);
    cmds.push(['a', rx, ry, 0, 1, 1, 0, 2 * ry]);
    cmds.push(['a', rx, ry, 0, 1, 1, 0, -2 * ry]); // cmds.push(['z']);
  },
  circle: function circle(cx, cy, r) {
    this.ellipse(cx, cy, r);
  },
  rect: function rect(x, y, w, h, r) {
    var cmds = this._commands;

    if (r) {
      cmds.push(['M', x + r, y]);
      cmds.push(['l', w - r * 2, 0]);
      cmds.push(['a', r, r, 0, 0, 1, r, r]);
      cmds.push(['l', 0, h - r * 2]);
      cmds.push(['a', r, r, 0, 0, 1, -r, r]);
      cmds.push(['l', r * 2 - w, 0]);
      cmds.push(['a', r, r, 0, 0, 1, -r, -r]);
      cmds.push(['l', 0, r * 2 - h]);
      cmds.push(['a', r, r, 0, 0, 1, r, -r]);
    } else {
      cmds.push(['M', x, y]);
      cmds.push(['l', w, 0]);
      cmds.push(['l', 0, h]);
      cmds.push(['l', -w, 0]);
    }

    cmds.push(['z']);
  },
  close: function close() {
    this._commands.push(['Z']);
  },
  points: function points(_points, closed) {
    if (_points.length <= 1) {
      return;
    }

    this.clear();
    var lastPoint = _points[0];
    this.M(lastPoint.x, lastPoint.y);

    for (var i = 1, ii = _points.length; i < ii; i++) {
      var point = _points[i];
      this.C(lastPoint.x, lastPoint.y, point.x, point.y, point.x, point.y);
      lastPoint = point;
    }

    if (closed) {
      this.C(lastPoint.x, lastPoint.y, _points[0].x, _points[0].y, _points[0].x, _points[0].y);
    }

    this.makePath();
  },
  makePath: function makePath() {
    this._commands = utils.path2curve(this._commands);
    this._dirty = true;
  },
  path: function path(_path) {
    this._commands = utils.path2curve(_path);
    this._dirty = true;
  },
  clear: function clear() {
    this._commands.length = 0;
  },
  getPathString: function getPathString() {
    var commands = this._commands;
    var string = [];

    for (var i = 0, ii = commands.length; i < ii; i++) {
      string[i] = commands[i].join(' ');
    }

    string = string.join(' ');
    return string;
  },
  getTotalLength: function getTotalLength() {
    if (this._commands.totalLength === undefined) {
      this._analysis();
    }

    return this._commands.totalLength;
  },
  getBbox: function getBbox() {
    if (this._commands.bbox === undefined) {
      this._analysis();
    }

    return this._commands.bbox;
  },
  getWorldBbox: function getWorldBbox() {
    if (this._commands.worldBbox === undefined || this._transformDirty) {
      this._analysis();
    }

    return this._commands.worldBbox;
  },
  center: function center(x, y) {
    x = x || 0;
    y = y || 0;
    var bbox = this.getBbox();
    this.position = this.position.add(cc.v2(-bbox.width / 2 - bbox.x + x, -bbox.height / 2 - bbox.y + y));
  },
  _curves: function _curves() {
    var cmds = this._commands;
    if (cmds.curves) return cmds.curves;
    var curves = [];
    var subCurves;
    var x, y;

    for (var i = 0, ii = cmds.length; i < ii; i++) {
      var cmd = cmds[i];
      var c = cmd[0];

      if (c === 'M') {
        subCurves = [];
        curves.push(subCurves);
        x = cmd[1];
        y = cmd[2];
      } else if (c === 'C' && x !== undefined && y !== undefined) {
        subCurves.push([x, y, cmd[1], cmd[2], cmd[3], cmd[4], cmd[5], cmd[6]]);
        x = cmd[5];
        y = cmd[6];
      }
    }

    cmds.curves = curves;
    return curves;
  },
  _analysis: function _analysis() {},
  //////////////////////////////////////
  _drawCommands: function _drawCommands() {
    var commands = this._commands;
    var ctx = this.ctx;
    var t = this.getWorldTransform();

    for (var i = 0, ii = commands.length; i < ii; i++) {
      var cmd = commands[i];
      var c = cmd[0];
      cmd = this._transformCommand(cmd, t);
      var func = ctx[drawer[c]];
      if (func) func.apply(ctx, cmd);
    }
  },
  _drawHandles: function _drawHandles() {
    var ctx = this.ctx;
    var commands = this._commands;
    var prev;
    var size = 5;
    var half = size / 2;
    var originLineWidth = ctx.lineWidth;
    var originStrokeColor = ctx.strokeColor;
    var originFillColor = ctx.fillColor;
    ctx.lineWidth = 1;
    ctx.strokeColor = selectedColor;
    ctx.fillColor = selectedColor;
    var t = this.getWorldTransform();

    function drawHandle(x1, y1, x2, y2) {
      ctx.moveTo(x1, y1);
      ctx.lineTo(x2, y2);
      ctx.stroke();
      ctx.circle(x2, y2, half);
      ctx.fill();
    }

    for (var i = 0, ii = commands.length; i < ii; i++) {
      var cmd = commands[i];
      var c = cmd[0];
      cmd = this._transformCommand(cmd, t);

      if (c === 'M') {
        prev = cmd;
      } else if (c === 'C') {
        drawHandle(prev[0], prev[1], cmd[0], cmd[1]);
        drawHandle(cmd[4], cmd[5], cmd[2], cmd[3]);
        prev = [cmd[4], cmd[5]];
      }

      if (prev) ctx.fillRect(prev[0] - half, prev[1] - half, size, size);
    }

    ctx.lineWidth = originLineWidth;
    ctx.strokeColor = originStrokeColor;
    ctx.fillColor = originFillColor;
  },
  _drawDashPath: function _drawDashPath() {
    var cmds = this._commands;
    var ctx = this.ctx;
    var dashArray = this.dashArray;
    var dashOffset = this.dashOffset;
    var points;

    if (!cmds.points) {
      this._analysis();
    }

    points = cmds.points;
    var t = this.getWorldTransform();

    for (var i = 0, ii = points.length; i < ii; i++) {
      var subPoints = points[i];
      R.utils.drawDashPoints(subPoints, ctx, dashArray, dashOffset, t);
    }
  },
  //////////////////////////////////////
  update: function update(dt) {
    if (this._updateAnimate) {
      this._updateAnimate(dt);
    }

    if (this._commands.length === 0 || !this._dirty || this.parent && !this.parent._dirty) {
      return;
    }

    this._applyStyle();

    if (!this.parent) {
      this.ctx.clear();
    }

    if (this.dashArray.length > 0) {
      if (this.getStyledColor('fillColor')) {
        this._drawCommands();

        this.ctx.fill();
      }

      if (this.getStyledColor('strokeColor')) {
        this._drawDashPath();

        this.ctx.stroke();
      }
    } else {
      this._drawCommands();

      if (this.getStyledColor('fillColor')) this.ctx.fill();
      if (this.getStyledColor('strokeColor')) this.ctx.stroke();
    }

    if (this.showBoundingBox) {
      var bbox = this.getWorldBbox();
      this.ctx.rect(bbox.x, bbox.y, bbox.width, bbox.height);
      this.ctx.stroke();
    }

    if (this.showHandles) this._drawHandles();
    this._dirty = false;
  }
};
var Path = cc.Class(utils.defineClass(PathDefine, trasform, style, simplify));
['M', 'm', 'L', 'l', 'H', 'h', 'V', 'v', 'C', 'c', 'S', 's', 'Q', 'q', 'T', 't', 'A', 'a', 'Z', 'z'].forEach(function (cmd) {
  Path.prototype[cmd] = function () {
    var cmds = [cmd];

    for (var i = 0, l = arguments.length; i < l; i++) {
      cmds[i + 1] = arguments[i];
    }

    this._commands.push(cmds);
  };
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcbWluaUdhbWVcXHJhcGhhZWxcXFIucGF0aC5qcyJdLCJuYW1lcyI6WyJ1dGlscyIsInJlcXVpcmUiLCJ0cmFzZm9ybSIsInN0eWxlIiwic2ltcGxpZnkiLCJkcmF3ZXIiLCJNIiwiTCIsIkMiLCJaIiwic3FydCIsIk1hdGgiLCJtYXgiLCJhYnMiLCJzZWxlY3RlZENvbG9yIiwiY2MiLCJjb2xvciIsIlBhdGhEZWZpbmUiLCJDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwiX2RpcnR5Iiwic2VyaWFsaXphYmxlIiwibm90aWZ5IiwicGFyZW50IiwiX2NvbW1hbmRzIiwicG9pbnRzIiwidW5kZWZpbmVkIiwiaW5pdCIsImN0eCIsInNob3dIYW5kbGVzIiwic2hvd0JvdW5kaW5nQm94Iiwib25Mb2FkIiwiX2dOb2RlIiwiTm9kZSIsImFkZENvbXBvbmVudCIsIkdyYXBoaWNzIiwibm9kZSIsImFkZENoaWxkIiwiX2FwcGx5U3R5bGUiLCJlbGxpcHNlIiwiY3giLCJjeSIsInJ4IiwicnkiLCJjbWRzIiwicHVzaCIsImNpcmNsZSIsInIiLCJyZWN0IiwieCIsInkiLCJ3IiwiaCIsImNsb3NlIiwiY2xvc2VkIiwibGVuZ3RoIiwiY2xlYXIiLCJsYXN0UG9pbnQiLCJpIiwiaWkiLCJwb2ludCIsIm1ha2VQYXRoIiwicGF0aDJjdXJ2ZSIsInBhdGgiLCJnZXRQYXRoU3RyaW5nIiwiY29tbWFuZHMiLCJzdHJpbmciLCJqb2luIiwiZ2V0VG90YWxMZW5ndGgiLCJ0b3RhbExlbmd0aCIsIl9hbmFseXNpcyIsImdldEJib3giLCJiYm94IiwiZ2V0V29ybGRCYm94Iiwid29ybGRCYm94IiwiX3RyYW5zZm9ybURpcnR5IiwiY2VudGVyIiwicG9zaXRpb24iLCJhZGQiLCJ2MiIsIndpZHRoIiwiaGVpZ2h0IiwiX2N1cnZlcyIsImN1cnZlcyIsInN1YkN1cnZlcyIsImNtZCIsImMiLCJfZHJhd0NvbW1hbmRzIiwidCIsImdldFdvcmxkVHJhbnNmb3JtIiwiX3RyYW5zZm9ybUNvbW1hbmQiLCJmdW5jIiwiYXBwbHkiLCJfZHJhd0hhbmRsZXMiLCJwcmV2Iiwic2l6ZSIsImhhbGYiLCJvcmlnaW5MaW5lV2lkdGgiLCJsaW5lV2lkdGgiLCJvcmlnaW5TdHJva2VDb2xvciIsInN0cm9rZUNvbG9yIiwib3JpZ2luRmlsbENvbG9yIiwiZmlsbENvbG9yIiwiZHJhd0hhbmRsZSIsIngxIiwieTEiLCJ4MiIsInkyIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwiZmlsbCIsImZpbGxSZWN0IiwiX2RyYXdEYXNoUGF0aCIsImRhc2hBcnJheSIsImRhc2hPZmZzZXQiLCJzdWJQb2ludHMiLCJSIiwiZHJhd0Rhc2hQb2ludHMiLCJ1cGRhdGUiLCJkdCIsIl91cGRhdGVBbmltYXRlIiwiZ2V0U3R5bGVkQ29sb3IiLCJQYXRoIiwiQ2xhc3MiLCJkZWZpbmVDbGFzcyIsImZvckVhY2giLCJwcm90b3R5cGUiLCJsIiwiYXJndW1lbnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQSxJQUFJQSxLQUFLLEdBQUdDLE9BQU8sQ0FBQyxpQkFBRCxDQUFuQjs7QUFDQSxJQUFJQyxRQUFRLEdBQUdELE9BQU8sQ0FBQyx5QkFBRCxDQUF0Qjs7QUFDQSxJQUFJRSxLQUFLLEdBQUdGLE9BQU8sQ0FBQyxxQkFBRCxDQUFuQixFQUNBOzs7QUFDQSxJQUFJRyxRQUFRLEdBQUdILE9BQU8sQ0FBQyxpQ0FBRCxDQUF0Qjs7QUFFQSxJQUFJSSxNQUFNLEdBQUc7QUFDVEMsRUFBQUEsQ0FBQyxFQUFFLFFBRE07QUFFVEMsRUFBQUEsQ0FBQyxFQUFFLFFBRk07QUFHVEMsRUFBQUEsQ0FBQyxFQUFFLGVBSE07QUFJVEMsRUFBQUEsQ0FBQyxFQUFFO0FBSk0sQ0FBYjtBQU9BLElBQUlDLElBQUksR0FBR0MsSUFBSSxDQUFDRCxJQUFoQjtBQUNBLElBQUlFLEdBQUcsR0FBSUQsSUFBSSxDQUFDQyxHQUFoQjtBQUNBLElBQUlDLEdBQUcsR0FBSUYsSUFBSSxDQUFDRSxH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RDtBQU9ILENBUkQiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscy9SLnV0aWxzJyk7XG52YXIgdHJhc2Zvcm0gPSByZXF1aXJlKCcuL2NvbXBvbmVudC9SLnRyYW5zZm9ybScpO1xudmFyIHN0eWxlID0gcmVxdWlyZSgnLi9jb21wb25lbnQvUi5zdHlsZScpO1xuLy8gb3B0aW9uYWxcbnZhciBzaW1wbGlmeSA9IHJlcXVpcmUoJy4vY29tcG9uZW50L29wdGlvbmFsL1Iuc2ltcGxpZnknKTtcblxudmFyIGRyYXdlciA9IHtcbiAgICBNOiAnbW92ZVRvJyxcbiAgICBMOiAnbGluZVRvJyxcbiAgICBDOiAnYmV6aWVyQ3VydmVUbycsXG4gICAgWjogJ2Nsb3NlJyxcbn07XG5cbnZhciBzcXJ0ID0gTWF0aC5zcXJ0O1xudmFyIG1heCAgPSBNYXRoLm1heDtcbnZhciBhYnMgID0gTWF0aC5hYnM7XG5cbnZhciBzZWxlY3RlZENvbG9yID0gY2MuY29sb3IoMCwxNTcsMjM2KTtcblxuXG52YXIgUGF0aERlZmluZSA9IHtcbiAgICBleHRlbmRzOiBjYy5Db21wb25lbnQsXG5cbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgIF9kaXJ0eToge1xuICAgICAgICAgICAgZGVmYXVsdDogdHJ1ZSxcbiAgICAgICAgICAgIHNlcmlhbGl6YWJsZTogZmFsc2UsXG4gICAgICAgICAgICBub3RpZnk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQgJiYgdGhpcy5fZGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuX2RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jb21tYW5kcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29tbWFuZHMucG9pbnRzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGluaXQ6IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgICAgICB0aGlzLmN0eCA9IHBhcmVudC5jdHg7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jb21tYW5kcyA9IFtdO1xuICAgICAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5zaG93SGFuZGxlcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNob3dCb3VuZGluZ0JveCA9IGZhbHNlO1xuICAgIH0sXG5cbiAgICBvbkxvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pbml0KCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmN0eCkge1xuICAgICAgICAgICAgbGV0IF9nTm9kZSA9IG5ldyBjYy5Ob2RlKCk7XG4gICAgICAgICAgICB0aGlzLmN0eCA9IF9nTm9kZS5hZGRDb21wb25lbnQoY2MuR3JhcGhpY3MpO1xuICAgICAgICAgICAgdGhpcy5ub2RlLmFkZENoaWxkKF9nTm9kZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2FwcGx5U3R5bGUoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBlbGxpcHNlOiBmdW5jdGlvbiAoY3gsIGN5LCByeCwgcnkpIHtcbiAgICAgICAgaWYgKCFyeSkge1xuICAgICAgICAgICAgcnkgPSByeDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgbGV0IGNtZHMgPSB0aGlzLl9jb21tYW5kcztcbiAgICAgICAgY21kcy5wdXNoKFsnTScsIGN4LCBjeV0pO1xuICAgICAgICBjbWRzLnB1c2goWydtJywgMCwgLXJ5XSk7XG4gICAgICAgIGNtZHMucHVzaChbJ2EnLCByeCwgcnksIDAsIDEsIDEsIDAsIDIgKiByeV0pO1xuICAgICAgICBjbWRzLnB1c2goWydhJywgcngsIHJ5LCAwLCAxLCAxLCAwLCAtMiAqIHJ5XSk7XG4gICAgICAgIC8vIGNtZHMucHVzaChbJ3onXSk7XG4gICAgfSxcblxuICAgIGNpcmNsZTogZnVuY3Rpb24gKGN4LCBjeSwgcikge1xuICAgICAgICB0aGlzLmVsbGlwc2UoY3gsIGN5LCByKTtcbiAgICB9LFxuXG4gICAgcmVjdDogZnVuY3Rpb24gKHgsIHksIHcsIGgsIHIpIHtcbiAgICAgICAgbGV0IGNtZHMgPSB0aGlzLl9jb21tYW5kcztcblxuICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgY21kcy5wdXNoKFsnTScsIHggKyByLCB5XSk7XG4gICAgICAgICAgICBjbWRzLnB1c2goWydsJywgdyAtIHIgKiAyLCAwXSk7XG4gICAgICAgICAgICBjbWRzLnB1c2goWydhJywgciwgciwgMCwgMCwgMSwgciwgcl0pO1xuICAgICAgICAgICAgY21kcy5wdXNoKFsnbCcsIDAsIGggLSByICogMl0pO1xuICAgICAgICAgICAgY21kcy5wdXNoKFsnYScsIHIsIHIsIDAsIDAsIDEsIC1yLCByXSk7XG4gICAgICAgICAgICBjbWRzLnB1c2goWydsJywgciAqIDIgLSB3LCAwXSk7XG4gICAgICAgICAgICBjbWRzLnB1c2goWydhJywgciwgciwgMCwgMCwgMSwgLXIsIC1yXSk7XG4gICAgICAgICAgICBjbWRzLnB1c2goWydsJywgMCwgciAqIDIgLSBoXSk7XG4gICAgICAgICAgICBjbWRzLnB1c2goWydhJywgciwgciwgMCwgMCwgMSwgciwgLXJdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNtZHMucHVzaChbJ00nLCB4LCB5XSk7XG4gICAgICAgICAgICBjbWRzLnB1c2goWydsJywgdywgMF0pO1xuICAgICAgICAgICAgY21kcy5wdXNoKFsnbCcsIDAsIGhdKTtcbiAgICAgICAgICAgIGNtZHMucHVzaChbJ2wnLCAtdywgMF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY21kcy5wdXNoKFsneiddKTtcbiAgICB9LFxuXG5cbiAgIFxuXG4gICAgY2xvc2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fY29tbWFuZHMucHVzaChbJ1onXSk7XG4gICAgfSxcblxuICAgIHBvaW50czogZnVuY3Rpb24gKHBvaW50cywgY2xvc2VkKSB7XG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2xlYXIoKTtcblxuICAgICAgICB2YXIgbGFzdFBvaW50ID0gcG9pbnRzWzBdO1xuICAgICAgICB0aGlzLk0obGFzdFBvaW50LngsIGxhc3RQb2ludC55KTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMSwgaWkgPSBwb2ludHMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgdGhpcy5DKGxhc3RQb2ludC54LCBsYXN0UG9pbnQueSwgcG9pbnQueCwgcG9pbnQueSwgcG9pbnQueCwgcG9pbnQueSk7XG4gICAgICAgICAgICBsYXN0UG9pbnQgPSBwb2ludDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuQyhsYXN0UG9pbnQueCwgbGFzdFBvaW50LnksIHBvaW50c1swXS54LCBwb2ludHNbMF0ueSwgcG9pbnRzWzBdLngsIHBvaW50c1swXS55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWFrZVBhdGgoKTtcbiAgICB9LFxuXG4gICAgbWFrZVBhdGg6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fY29tbWFuZHMgPSB1dGlscy5wYXRoMmN1cnZlKHRoaXMuX2NvbW1hbmRzKTtcbiAgICAgICAgdGhpcy5fZGlydHkgPSB0cnVlO1xuICAgIH0sXG5cbiAgICBwYXRoOiBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICB0aGlzLl9jb21tYW5kcyA9IHV0aWxzLnBhdGgyY3VydmUocGF0aCk7XG4gICAgICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcbiAgICB9LFxuXG4gICAgY2xlYXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fY29tbWFuZHMubGVuZ3RoID0gMDtcbiAgICB9LFxuXG4gICAgZ2V0UGF0aFN0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29tbWFuZHMgPSB0aGlzLl9jb21tYW5kcztcbiAgICAgICAgdmFyIHN0cmluZyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNvbW1hbmRzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgIHN0cmluZ1tpXSA9IGNvbW1hbmRzW2ldLmpvaW4oJyAnKTtcbiAgICAgICAgfVxuICAgICAgICBzdHJpbmcgPSBzdHJpbmcuam9pbignICcpO1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgIH0sXG5cbiAgICBnZXRUb3RhbExlbmd0aDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fY29tbWFuZHMudG90YWxMZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fYW5hbHlzaXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9jb21tYW5kcy50b3RhbExlbmd0aDtcbiAgICB9LFxuXG4gICAgZ2V0QmJveDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fY29tbWFuZHMuYmJveCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9hbmFseXNpcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbW1hbmRzLmJib3g7XG4gICAgfSxcblxuICAgIGdldFdvcmxkQmJveDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fY29tbWFuZHMud29ybGRCYm94ID09PSB1bmRlZmluZWQgfHwgdGhpcy5fdHJhbnNmb3JtRGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuX2FuYWx5c2lzKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fY29tbWFuZHMud29ybGRCYm94O1xuICAgIH0sXG5cbiAgICBjZW50ZXI6IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHggPSB4IHx8IDA7XG4gICAgICAgIHkgPSB5IHx8IDA7XG4gICAgICAgIFxuICAgICAgICB2YXIgYmJveCA9IHRoaXMuZ2V0QmJveCgpO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbi5hZGQoY2MudjIoLWJib3gud2lkdGgvMiAtIGJib3gueCArIHgsIC1iYm94LmhlaWdodC8yIC0gYmJveC55ICsgeSkpO1xuICAgIH0sXG5cbiAgICBfY3VydmVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjbWRzID0gdGhpcy5fY29tbWFuZHM7XG4gICAgICAgIGlmIChjbWRzLmN1cnZlcykgcmV0dXJuIGNtZHMuY3VydmVzO1xuXG4gICAgICAgIHZhciBjdXJ2ZXMgPSBbXTtcbiAgICAgICAgdmFyIHN1YkN1cnZlcztcbiAgICAgICAgdmFyIHgsIHk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gY21kcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY21kID0gY21kc1tpXTtcbiAgICAgICAgICAgIHZhciBjID0gY21kWzBdO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoYyA9PT0gJ00nKSB7XG4gICAgICAgICAgICAgICAgc3ViQ3VydmVzID0gW107XG4gICAgICAgICAgICAgICAgY3VydmVzLnB1c2goc3ViQ3VydmVzKTtcblxuICAgICAgICAgICAgICAgIHggPSBjbWRbMV07XG4gICAgICAgICAgICAgICAgeSA9IGNtZFsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGMgPT09ICdDJyAmJiB4ICE9PSB1bmRlZmluZWQgJiYgeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc3ViQ3VydmVzLnB1c2goW3gsIHksIGNtZFsxXSwgY21kWzJdLCBjbWRbM10sIGNtZFs0XSwgY21kWzVdLCBjbWRbNl1dKTtcblxuICAgICAgICAgICAgICAgIHggPSBjbWRbNV07XG4gICAgICAgICAgICAgICAgeSA9IGNtZFs2XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNtZHMuY3VydmVzID0gY3VydmVzO1xuICAgICAgICByZXR1cm4gY3VydmVzO1xuICAgIH0sXG5cbiAgICBfYW5hbHlzaXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIFxuICAgIH0sXG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIF9kcmF3Q29tbWFuZHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbW1hbmRzID0gdGhpcy5fY29tbWFuZHM7XG4gICAgICAgIHZhciBjdHggPSB0aGlzLmN0eDtcbiAgICAgICAgdmFyIHQgPSB0aGlzLmdldFdvcmxkVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gY29tbWFuZHMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNtZCA9IGNvbW1hbmRzW2ldO1xuICAgICAgICAgICAgdmFyIGMgPSBjbWRbMF07XG4gICAgICAgICAgICBjbWQgPSB0aGlzLl90cmFuc2Zvcm1Db21tYW5kKGNtZCwgdCk7XG5cbiAgICAgICAgICAgIHZhciBmdW5jID0gY3R4WyBkcmF3ZXJbY10gXTtcblxuICAgICAgICAgICAgaWYgKGZ1bmMpIGZ1bmMuYXBwbHkoY3R4LCBjbWQpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9kcmF3SGFuZGxlczogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY3R4ID0gdGhpcy5jdHg7XG4gICAgICAgIHZhciBjb21tYW5kcyA9IHRoaXMuX2NvbW1hbmRzO1xuXG4gICAgICAgIHZhciBwcmV2O1xuICAgICAgICB2YXIgc2l6ZSA9IDU7XG4gICAgICAgIHZhciBoYWxmID0gc2l6ZSAvIDI7XG5cbiAgICAgICAgdmFyIG9yaWdpbkxpbmVXaWR0aCA9IGN0eC5saW5lV2lkdGg7XG4gICAgICAgIHZhciBvcmlnaW5TdHJva2VDb2xvciA9IGN0eC5zdHJva2VDb2xvcjtcbiAgICAgICAgdmFyIG9yaWdpbkZpbGxDb2xvciAgID0gY3R4LmZpbGxDb2xvcjtcblxuICAgICAgICBjdHgubGluZVdpZHRoID0gMTtcbiAgICAgICAgY3R4LnN0cm9rZUNvbG9yID0gc2VsZWN0ZWRDb2xvcjtcbiAgICAgICAgY3R4LmZpbGxDb2xvciA9IHNlbGVjdGVkQ29sb3I7XG5cbiAgICAgICAgdmFyIHQgPSB0aGlzLmdldFdvcmxkVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgZnVuY3Rpb24gZHJhd0hhbmRsZSh4MSwgeTEsIHgyLCB5Mikge1xuICAgICAgICAgICAgY3R4Lm1vdmVUbyh4MSwgeTEpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyh4MiwgeTIpO1xuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgY3R4LmNpcmNsZSh4MiwgeTIsIGhhbGYpO1xuICAgICAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNvbW1hbmRzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjbWQgPSBjb21tYW5kc1tpXTtcbiAgICAgICAgICAgIHZhciBjID0gY21kWzBdO1xuICAgICAgICAgICAgY21kID0gdGhpcy5fdHJhbnNmb3JtQ29tbWFuZChjbWQsIHQpO1xuXG4gICAgICAgICAgICBpZiAoYyA9PT0gJ00nKSB7XG4gICAgICAgICAgICAgICAgcHJldiA9IGNtZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYyA9PT0gJ0MnKSB7XG4gICAgICAgICAgICAgICAgZHJhd0hhbmRsZShwcmV2WzBdLCBwcmV2WzFdLCBjbWRbMF0sIGNtZFsxXSk7XG4gICAgICAgICAgICAgICAgZHJhd0hhbmRsZShjbWRbNF0sIGNtZFs1XSwgY21kWzJdLCBjbWRbM10pO1xuICAgICAgICAgICAgICAgIHByZXYgPSBbY21kWzRdLCBjbWRbNV1dO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJldilcbiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QocHJldlswXS1oYWxmLCBwcmV2WzFdLWhhbGYsIHNpemUsIHNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IG9yaWdpbkxpbmVXaWR0aDtcbiAgICAgICAgY3R4LnN0cm9rZUNvbG9yID0gb3JpZ2luU3Ryb2tlQ29sb3I7XG4gICAgICAgIGN0eC5maWxsQ29sb3IgICA9IG9yaWdpbkZpbGxDb2xvcjtcbiAgICB9LFxuXG4gICAgX2RyYXdEYXNoUGF0aDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY21kcyA9IHRoaXMuX2NvbW1hbmRzO1xuICAgICAgICB2YXIgY3R4ID0gdGhpcy5jdHg7XG4gICAgICAgIHZhciBkYXNoQXJyYXkgPSB0aGlzLmRhc2hBcnJheTtcbiAgICAgICAgdmFyIGRhc2hPZmZzZXQgPSB0aGlzLmRhc2hPZmZzZXQ7XG5cbiAgICAgICAgdmFyIHBvaW50cztcblxuICAgICAgICBpZiAoIWNtZHMucG9pbnRzKSB7XG4gICAgICAgICAgICB0aGlzLl9hbmFseXNpcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcG9pbnRzID0gY21kcy5wb2ludHM7XG5cbiAgICAgICAgdmFyIHQgPSB0aGlzLmdldFdvcmxkVHJhbnNmb3JtKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHBvaW50cy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3ViUG9pbnRzID0gcG9pbnRzW2ldO1xuXG4gICAgICAgICAgICBSLnV0aWxzLmRyYXdEYXNoUG9pbnRzKHN1YlBvaW50cywgY3R4LCBkYXNoQXJyYXksIGRhc2hPZmZzZXQsIHQpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgdXBkYXRlOiBmdW5jdGlvbiAoZHQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3VwZGF0ZUFuaW1hdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUFuaW1hdGUoZHQpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoIHRoaXMuX2NvbW1hbmRzLmxlbmd0aCA9PT0gMCB8fCAhdGhpcy5fZGlydHkgfHwgKHRoaXMucGFyZW50ICYmICF0aGlzLnBhcmVudC5fZGlydHkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9hcHBseVN0eWxlKCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5jdHguY2xlYXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRhc2hBcnJheS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5nZXRTdHlsZWRDb2xvcignZmlsbENvbG9yJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcmF3Q29tbWFuZHMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmdldFN0eWxlZENvbG9yKCdzdHJva2VDb2xvcicpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhd0Rhc2hQYXRoKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9kcmF3Q29tbWFuZHMoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0U3R5bGVkQ29sb3IoJ2ZpbGxDb2xvcicpKSB0aGlzLmN0eC5maWxsKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5nZXRTdHlsZWRDb2xvcignc3Ryb2tlQ29sb3InKSkgdGhpcy5jdHguc3Ryb2tlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zaG93Qm91bmRpbmdCb3gpIHtcbiAgICAgICAgICAgIHZhciBiYm94ID0gdGhpcy5nZXRXb3JsZEJib3goKTtcbiAgICAgICAgICAgIHRoaXMuY3R4LnJlY3QoYmJveC54LCBiYm94LnksIGJib3gud2lkdGgsIGJib3guaGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCB0aGlzLnNob3dIYW5kbGVzICkgdGhpcy5fZHJhd0hhbmRsZXMoKTtcblxuICAgICAgICB0aGlzLl9kaXJ0eSA9IGZhbHNlO1xuICAgIH1cbn07XG5cbnZhciBQYXRoID0gY2MuQ2xhc3ModXRpbHMuZGVmaW5lQ2xhc3MoUGF0aERlZmluZSx0cmFzZm9ybSxzdHlsZSwgc2ltcGxpZnkpKTtcblxuWydNJywgJ20nLCAnTCcsICdsJywgJ0gnLCAnaCcsICdWJywgJ3YnLCAnQycsICdjJywgJ1MnLCAncycsICdRJywgJ3EnLCAnVCcsICd0JywgJ0EnLCAnYScsICdaJywneiddLmZvckVhY2goZnVuY3Rpb24gKGNtZCkge1xuICAgIFBhdGgucHJvdG90eXBlW2NtZF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjbWRzID0gW2NtZF07XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgY21kc1tpKzFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvbW1hbmRzLnB1c2goY21kcyk7XG4gICAgfTtcbn0pO1xuIl19