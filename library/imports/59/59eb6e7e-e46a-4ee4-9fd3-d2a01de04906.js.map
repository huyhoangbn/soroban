{"version":3,"sources":["assets\\scripts\\menu\\MenuLoader.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { Global } from \"../Global\";\r\nimport * as SoundManager from \"../manager/SoundManager\"\r\nimport * as ListLesson from \"../listLesson/ListLesson\"\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class MenuLoader extends cc.Component {\r\n    @property (cc.Node)\r\n    menu: cc.Node = null;\r\n\r\n    @property (cc.Node)\r\n    challengeChoser: cc.Node = null;\r\n\r\n    @property (cc.Node)\r\n    tutorialChoser: cc.Node = null;\r\n\r\n    @property (cc.Node)\r\n    themeSelector: cc.Node = null;\r\n\r\n    @property (cc.Node)\r\n    miniGame: cc.Node = null;\r\n\r\n    @property (cc.Node)\r\n    startView: cc.Node = null;\r\n    \r\n    loadPlayground() {\r\n        SoundManager.instance.playMouse();\r\n        cc.director.loadScene(\"scenes/playground\");\r\n    }\r\n    loadListLesson(event: any, value: string){\r\n        SoundManager.instance.playMouse();\r\n        cc.director.loadScene(\"scenes/listLesson\");\r\n        Global.currentLesson = 0;\r\n    }\r\n    loadLessonCurrent(){\r\n        console.error(Global.currentLesson);\r\n        cc.resources.load(\"prefabs/lesson/Lesson\" + Global.currentLesson  , cc.Prefab, (error: Error, asset: cc.Prefab) => {\r\n            if(error) {\r\n                console.error(error);\r\n            } else {\r\n                console.error(\"Ok:\",Global.currentLesson);\r\n                let node = cc.instantiate(asset);\r\n                node.setContentSize(cc.winSize.width, cc.winSize.height);\r\n                this.startView.addChild(node);\r\n            }          \r\n        });\r\n    }\r\n\r\n    loadChallenge(event: any, value: string) {\r\n        SoundManager.instance.playMouse();\r\n        if(value == \"addition\" || value == \"subtraction\" || value == \"multiplication\" || value == \"division\") {\r\n            Global.currentChallenge = value;\r\n\r\n            cc.director.loadScene(\"scenes/challenge\");\r\n        }\r\n    }\r\n\r\n    loadTutorial(event: any, value: string) {\r\n        SoundManager.instance.playMouse();\r\n        if(value == \"Basics\" || value == \"Addition\" || value == \"Subtraction\") {\r\n            Global.currentTutorial = value;\r\n\r\n            cc.director.loadScene(\"scenes/tutorial\");\r\n        } else if(value == \"SMultiplication\") {\r\n            Global.currentTutorial = value;\r\n\r\n            cc.director.loadScene(\"scenes/tutorial_smul\");\r\n        } else if(value == \"DMultiplication\" || value == \"Division\") {\r\n            Global.currentTutorial = value;\r\n\r\n            cc.director.loadScene(\"scenes/tutorial_ex\");\r\n        } else console.error(\"Invalid argument in MenuLoader.loadTutorial!\");\r\n    }\r\n\r\n    loadMiniGame(event: any, value: string) {\r\n        SoundManager.instance.playMouse();\r\n        cc.resources.load(\"prefabs/miniGame/\" + value, cc.Prefab, (error: Error, asset: cc.Prefab) => {\r\n            if(error) {\r\n                console.error(error);\r\n            } else {\r\n                let node = cc.instantiate(asset);\r\n                this.miniGame.addChild(node);\r\n            }          \r\n        });\r\n    }\r\n\r\n    switchLayout(event: any, value: string) {\r\n        SoundManager.instance.playMouse();\r\n        if(value == \"menu\") {\r\n            this.menu.active = true;\r\n            this.themeSelector.active = false;\r\n            this.tutorialChoser.active = false;\r\n            this.challengeChoser.active = false;\r\n            this.startView.active = false;\r\n            this.miniGame.active = false;\r\n        } else if(value == \"challenge\") {\r\n            this.menu.active = false;\r\n            this.challengeChoser.active = true;\r\n        } else if(value == \"tutorial\") {\r\n            this.menu.active = false;\r\n            this.tutorialChoser.active = true;\r\n        } else if(value == \"themeSelector\") {\r\n            this.themeSelector.active = true;\r\n        } else if(value == \"startView\") {\r\n            this.startView.active = true;\r\n        } else if(value == \"miniGame\") {\r\n            this.menu.active = false;\r\n            this.startView.active = false;\r\n            this.miniGame.active = true;\r\n        }\r\n    }\r\n\r\n    editBoxChanged(editBox: cc.EditBox) {\r\n        Global.resourcePack = editBox.string;\r\n    }\r\n\r\n    onClickSound(event: any, value: string){\r\n        SoundManager.instance.playMouse();\r\n        let music = cc.sys.localStorage.getItem(\"music\");\r\n        let state = '';\r\n        if (music == \"off\") {\r\n            event.currentTarget.opacity = 255\r\n            SoundManager.instance.playMusic();\r\n            state = 'on';\r\n        }\r\n        else {\r\n            event.currentTarget.opacity = 180\r\n            SoundManager.instance.stopMusic();\r\n            state = 'off';\r\n        }\r\n        cc.sys.localStorage.setItem(\"music\", state);\r\n\r\n\r\n    }\r\n}\r\n"]}